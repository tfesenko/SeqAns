<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="./lib/FileSaver.js"></script>
  <script src="./sequence-annotations.js"></script>
  <style>
  h2 {
    color: black;
    text-align: center;
  }

  .annotation-rect {
    fill-opacity: 0.0;
    stroke-width: 3;
    stroke: #000;
  }

  </style>

  <script type="text/javascript">
    
    function downloadSVG(fileName){
        
        try {
            var isFileSaverSupported = !!new Blob();
        } catch (e) {
            alert("blob not supported");
        }

        var html = d3.select("svg")
            .attr("title", "test2")
            .attr("version", 1.1)
            .attr("xmlns", "http://www.w3.org/2000/svg")
            .node().innerHTML;

        html = '<svg xmlns="http://www.w3.org/2000/svg">' + html + '</svg>';
        var blob = new Blob([html], {type: "image/svg+xml"});
        saveAs(blob, fileName);
    };
    </script>
  </head>

  <body>
    <h2>Show Me Your RNA!</h2>
    <button id="generate" onclick="downloadSVG('sequence.svg');">Save as SVG</button>
    <script type="text/javascript">
    

    var margin = 75,
      width = 1400 - margin,
      height = 5600 - margin;

    var svg = d3.select("body")
      .append("svg")
      .attr("width", width + margin)
      .attr("height", height + margin);

      var seq1 =
        'ATGGACAAGAAGTATAGCATCGGGCTGGACATTGGAACGAACTCGGTTGGTTGGGCTGTGATTACGGACG' +
        'AATACAAGGTGCCATCCAAGAAGTTTAAGGTCCTGGGAAACACCGACCGTCACTCAATCAAGAAGAATCT' +
        'CATTGGAGCCCTGCTCTTCGATAGTGGGGAGACCGCCGAAGCTACTCGACTGAAGCGAACGGCTCGCCGG' +
        'CGTTATACACGACGCAAGAATCGCATCTGCTACCTCCAGGAGATTTTCAGCAACGAAATGGCTAAGGTTG' +
        'ATGACTCATTCTTTCATCGACTCGAAGAAAGTTTCTTGGTCGAGGAGGATAAGAAGCACGAGCGCCATCC' +
        'GATCTTTGGTAACATTGTGGATGAGGTTGCCTATCACGAAAAGTACCCAACTATCTATCATCTTCGTAAG' +
        'AAGCTGGTCGATAGCACGGACAAGGCTGATTTGCGACTTATCTACCTGGCACTCGCGCACATGATTAAGT' +
        'TCCGCGGCCATTTTCTTATCGAGGGTGACCTGAACCCCGATAATTCTGACGTTGATAAGCTCTTCATCCA' +
        'GTTGGTCCAAACCTACAATCAGCTGTTTGAGGAAAACCCTATTAATGCATCTGGCGTGGACGCCAAGGCT' +
        'ATCCTTTCGGCGCGCCTGTCTAAGTCGCGGCGTTTGGAGAACCTTATCGCACAACTCCCCGGCGAAAAGA' +
        'AGAACGGCCTCTTCGGTAATTTGATTGCGTTGTCACTTGGTCTGACTCCTAACTTCAAGAGTAATTTTGA' +
        'CCTGGCAGAGGATGCGAAGCTCCAGTTGTCTAAGGATACGTATGATGACGATCTCGACAACTTGCTTGCC' +
        'CAAATCGGTGACCAGTACGCTGATCTTTTCCTGGCCGCTAAGAATCTCTCAGATGCAATCCTGCTCAGTG' +
        'ACATTTTGCGGGTCAACACCGAGATTACTAAGGCCCCCCTGTCAGCTAGTATGATCAAGCGGTATGATGA' +
        'GCACCATCAGGACCTCACCTTGCTTAAGGCCCTCGTGCGTCAGCAATTGCCTGAGAAGTACAAGGAAATC' +
        'TTCTTTGACCAATCCAAGAACGGATACGCAGGGTATATTGATGGCGGTGCGAGCCAGGAGGAATTCTACA' +
        'AGTTTATCAAGCCGATTTTGGAGAAGATGGACGGCACTGAGGAACTGCTCGTCAAGCTGAATCGCGAAGA' +
        'TTTGCTTCGTAAGCAACGAACGTTCGACAACGGCTCCATCCCGCACCAGATTCATCTGGGCGAGCTCCAC';
    var seq2 =
        'TAGGACAAGAAGTATAGCATCGGGCTGGACATTGGAACGAACTCGGTTGGTTGGGCTGTGATTACGGACG' +
        'AATACAAGGTGCCATCCAAGAAGTTTAAGGTCCTGGGAAACACCGACCGTCACTCAATCAAGAAGAATCT' +
        'CATTGGAGCCCTGCTCTTCGATAGTGGGGAGACCGCCGAAGCTACTCGACTGAAGCGAACGGCTCGCCGG' +
        'CGTTATACACGACGCAAGAATCGCATCTGCTACCTCCAGGAGATTTTCAGCAACGAAATGGCTAAGGTTG' +
        'ATGACTCATTCTTTCATCGACTCGAAGAAAGTTTCTTGGTCGAGGAGGATAAGAAGCACGAGCGCCATCC' +
        'GATCTTTGGTAACATTGTGGATGAGGTTGCCTATCACGAAAAGTACCCAACTATCTATCATCTTCGTAAG' +
        'AAGCTGGTCGATAGCACGGACAAGGCTGATTTGCGACTTATCTACCTGGCACTCGCGCACATGATTAAGT' +
        'TCCGCGGCCATTTTCTTATCGAGGGTGACCTGAACCCCGATAATTCTGACGTTGATAAGCTCTTCATCCA' +
        'GTTGGTCCAAACCTACAATCAGCTGTTTGAGGAAAACCCTATTAATGCATCTGGCGTGGACGCCAAGGCT' +
        'ATCCTTTCGGCGCGCCTGTCTAAGTCGCGGCGTTTGGAGAACCTTATCGCACAACTCCCCGGCGAAAAGA' +
        'AGAACGGCCTCTTCGGTAATTTGATTGCGTTGTCACTTGGTCTGACTCCTAACTTCAAGAGTAATTTTGA' +
        'CCTGGCAGAGGATGCGAAGCTCCAGTTGTCTAAGGATACGTATGATGACGATCTCGACAACTTGCTTGCC' +
        'CAAATCGGTGACCAGTACGCTGATCTTTTCCTGGCCGCTAAGAATCTCTCAGATGCAATCCTGCTCAGTG' +
        'ACATTTTGCGGGTCAACACCGAGATTACTAAGGCCCCCCTGTCAGCTAGTATGATCAAGCGGTATGATGA' +
        'GCACCATCAGGACCTCACCTTGCTTAAGGCCCTCGTGCGTCAGCAATTGCCTGAGAAGTACAAGGAAATC' +
        'TTCTTTGACCAATCCAAGAACGGATACGCAGGGTATATTGATGGCGGTGCGAGCCAGGAGGAATTCTACA' +
        'AGTTTATCAAGCCGATTTTGGAGAAGATGGACGGCACTGAGGAACTGCTCGTCAAGCTGAATCGCGAAGA' +
        'TTTGCTTCGTAAGCAACGAACGTTCGACAACGGCTCCATCCCGCACCAGATTCATCTGGGCGAGCTCCAC';
    var seq3 =
        'GTAGACAAGAAGTATAGCATCGGGCTGGACATTGGAACGAACTCGGTTGGTTGGGCTGTGATTACGGACG' +
        'AATACAAGGTGCCATCCAAGAAGTTTAAGGTCCTGGGAAACACCGACCGTCACTCAATCAAGAAGAATCT' +
        'CATTGGAGCCCTGCTCTTCGATAGTGGGGAGACCGCCGAAGCTACTCGACTGAAGCGAACGGCTCGCCGG' +
        'CGTTATACACGACGCAAGAATCGCATCTGCTACCTCCAGGAGATTTTCAGCAACGAAATGGCTAAGGTTG' +
        'ATGACTCATTCTTTCATCGACTCGAAGAAAGTTTCTTGGTCGAGGAGGATAAGAAGCACGAGCGCCATCC' +
        'GATCTTTGGTAACATTGTGGATGAGGTTGCCTATCACGAAAAGTACCCAACTATCTATCATCTTCGTAAG' +
        'AAGCTGGTCGATAGCACGGACAAGGCTGATTTGCGACTTATCTACCTGGCACTCGCGCACATGATTAAGT' +
        'TCCGCGGCCATTTTCTTATCGAGGGTGACCTGAACCCCGATAATTCTGACGTTGATAAGCTCTTCATCCA' +
        'GTTGGTCCAAACCTACAATCAGCTGTTTGAGGAAAACCCTATTAATGCATCTGGCGTGGACGCCAAGGCT' +
        'ATCCTTTCGGCGCGCCTGTCTAAGTCGCGGCGTTTGGAGAACCTTATCGCACAACTCCCCGGCGAAAAGA' +
        'AGAACGGCCTCTTCGGTAATTTGATTGCGTTGTCACTTGGTCTGACTCCTAACTTCAAGAGTAATTTTGA' +
        'CCTGGCAGAGGATGCGAAGCTCCAGTTGTCTAAGGATACGTATGATGACGATCTCGACAACTTGCTTGCC' +
        'CAAATCGGTGACCAGTACGCTGATCTTTTCCTGGCCGCTAAGAATCTCTCAGATGCAATCCTGCTCAGTG' +
        'ACATTTTGCGGGTCAACACCGAGATTACTAAGGCCCCCCTGTCAGCTAGTATGATCAAGCGGTATGATGA' +
        'GCACCATCAGGACCTCACCTTGCTTAAGGCCCTCGTGCGTCAGCAATTGCCTGAGAAGTACAAGGAAATC' +
        'TTCTTTGACCAATCCAAGAACGGATACGCAGGGTATATTGATGGCGGTGCGAGCCAGGAGGAATTCTACA' +
        'AGTTTATCAAGCCGATTTTGGAGAAGATGGACGGCACTGAGGAACTGCTCGTCAAGCTGAATCGCGAAGA' +
        'TTTGCTTCGTAAGCAACGAACGTTCGACAACGGCTCCATCCCGCACCAGATTCATCTGGGCGAGCTCCAC';

      draw([seq1, seq2, seq3]);
    </script>
  </body>
  </html>